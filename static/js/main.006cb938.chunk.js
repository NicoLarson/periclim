(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{35:function(e,a,t){},38:function(e,a,t){},40:function(e,a,t){},42:function(e,a,t){},44:function(e,a,t){},46:function(e,a,t){},49:function(e,a,t){"use strict";t.r(a);var n=t(0),r=t.n(n),c=t(7),l=t.n(c),s=t(2),i=t.n(s),o=t(3),m=t(1),u=(t(16),t(35),t(38),t(40),function(e){var a=e.setSearch,t=e.updatePageNumber;return r.a.createElement("form",{className:"search-bar"},r.a.createElement("input",{onChange:function(e){t(1),a(e.target.value)},className:"form-control form-control-lg search-bar",placeholder:"Rechercher...",type:"text"}),r.a.createElement("input",{class:"btn btn-primary",type:"submit",value:"Rechercher",onClick:function(e){e.preventDefault()}}))}),p=(t(42),function(e){var a,t=e.results;return a=t?t.map(function(e,a){return r.a.createElement(r.a.Fragment,null,r.a.createElement("li",{className:"card"},r.a.createElement("h3",{className:"card-header"},e.title),r.a.createElement("div",{className:"card-body"},r.a.createElement("ul",{className:"list-group list-group-flush"},r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Titre de la publication: "),e.publicationTitle),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Type: "),e.itemType),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Langue: "),e.Language),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Auteurs:"),e.authors.split(";").map(function(e,a){return r.a.createElement("span",{className:"badge bg-dark",key:a},e)})),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Ann\xe9e: "),e.year),e.ISSN?r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"ISSN: "),e.ISSN):null),r.a.createElement("div",{className:"card-body"},r.a.createElement("a",{href:e.Url,className:"btn btn-success"},"Voir l'article")),r.a.createElement("li",{className:"list-group-item"},r.a.createElement("strong",null,"Mots cl\xe9s: "),e.tags.split(";").map(function(e,a){return r.a.createElement("span",{className:"badge bg-primary",key:a},e)})),r.a.createElement("div",{className:"accordion"},r.a.createElement("div",{className:"accordion-item"},r.a.createElement("h2",{className:"accordion-header",id:"heading"+a},r.a.createElement("button",{className:"accordion-button collapsed",type:"button","data-bs-toggle":"collapse","data-bs-target":"#collapse"+a,"aria-expanded":"false","aria-controls":"collapse"+a},"Extrait")),r.a.createElement("div",{id:"collapse"+a,className:"accordion-collapse collapse","aria-labelledby":"heading"+a,"data-bs-parent":"#accordionExample"},r.a.createElement("div",{className:"accordion-body"},r.a.createElement("p",{className:"abstract"},"  ",e.abstract," "))))))))}):"No document Found :/",r.a.createElement(r.a.Fragment,null,a)}),d=(t(44),t(8)),b=t.n(d),g=function(e){var a=e.pageNumber,t=e.updatePageNumber,c=e.search,l=e.limitPerPage,s=Object(n.useState)([]),u=Object(m.a)(s,2),p=u[0],d=u[1],g="https://periclim-api.herokuapp.com/documents?_sort=year&_order=desc&q=".concat(c);Object(n.useEffect)(function(){Object(o.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(g).then(function(e){return e.json()});case 2:a=e.sent,d(a);case 4:case"end":return e.stop()}},e)}))()},[g]);var E=p.length,f=Math.ceil(E/l),N=Object(n.useState)(window.innerWidth),h=Object(m.a)(N,2),v=(h[0],h[1]),y=function(){v(window.innerWidth)};return Object(n.useEffect)(function(){return window.addEventListener("resize",y),function(){return window.removeEventListener("resize",y)}},[]),r.a.createElement(b.a,{forcePage:1===a?0:a-1,pageCount:f,onPageChange:function(e){t(e.selected+1)},className:"pagination justify-content-center",nextLabel:">>",previousLabel:"<<",previousClassName:"btn btn-primary prev",nextClassName:"btn btn-primary next",activeClassName:"active",pageClassName:"page-item",pageLinkClassName:"page-link"})},E=(t(46),function(e){var a=e.setNumberPerPage,t=e.limitPerPage;return r.a.createElement("div",{className:"limit-per-page"},r.a.createElement("p",null,"Nombre d'articles par page: "),r.a.createElement("div",null,[5,10,20,50,100].map(function(e,n){return t==e?r.a.createElement("button",{key:n,className:"btn btn-primary"},e):r.a.createElement("button",{key:n,className:"btn btn-outline-primary",onClick:function(){return a(e)}},e)})))}),f=function(){var e=Object(n.useState)(1),a=Object(m.a)(e,2),t=a[0],c=a[1],l=Object(n.useState)(""),s=Object(m.a)(l,2),d=s[0],b=s[1],f=Object(n.useState)([]),N=Object(m.a)(f,2),h=N[0],v=N[1],y=Object(n.useState)(10),j=Object(m.a)(y,2),P=j[0],w=j[1],O="https://periclim-api.herokuapp.com/documents?q=".concat(d,"&_limit=").concat(P,"&_page=").concat(t,"&_sort=year&_order=desc");return Object(n.useEffect)(function(){Object(o.a)(i.a.mark(function e(){var a;return i.a.wrap(function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,fetch(O).then(function(e){return e.json()});case 2:a=e.sent,v(a);case 4:case"end":return e.stop()}},e)}))()},[O]),r.a.createElement(r.a.Fragment,null,r.a.createElement("header",null,r.a.createElement("h1",{className:"title"},"Periclim"),r.a.createElement("h2",{className:"s-title"},"Base de donn\xe9es bibliographiques")),r.a.createElement("main",null,r.a.createElement(u,{setSearch:b,updatePageNumber:c}),r.a.createElement(E,{setNumberPerPage:w,limitPerPage:P}),r.a.createElement(p,{results:h}),r.a.createElement(g,{search:d,pageNumber:t,updatePageNumber:c,limitPerPage:P})),r.a.createElement("footer",null,r.a.createElement("p",null,"\xa9Copyright - MIT - 2022")))};l.a.render(r.a.createElement(f,null),document.getElementById("root"))},9:function(e,a,t){e.exports=t(49)}},[[9,2,1]]]);
//# sourceMappingURL=main.006cb938.chunk.js.map