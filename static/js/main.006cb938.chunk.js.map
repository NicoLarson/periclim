{"version":3,"sources":["components/Search/Search.jsx","components/Card/Card.jsx","components/Pagination/Pagination.jsx","components/Filter/LimitPerPage.jsx","App.jsx","index.js"],"names":["Search","_ref","setSearch","updatePageNumber","react_default","a","createElement","className","onChange","e","target","value","placeholder","type","class","onClick","preventDefault","Card","display","results","map","document","index","Fragment","title","publicationTitle","itemType","Language","authors","split","author","key","year","ISSN","href","Url","tags","tag","id","data-bs-toggle","data-bs-target","aria-expanded","aria-controls","aria-labelledby","data-bs-parent","abstract","Pagination","pageNumber","search","limitPerPage","_useState","useState","_useState2","Object","slicedToArray","fetchedData","updateFetchedData","api","concat","useEffect","asyncToGenerator","regenerator_default","mark","_callee","data","wrap","_context","prev","next","fetch","then","res","json","sent","stop","totalOfElement","length","pageCount","Math","ceil","_useState3","window","innerWidth","_useState4","setWidth","updateDimensions","addEventListener","removeEventListener","react_paginate_default","forcePage","onPageChange","selected","nextLabel","previousLabel","previousClassName","nextClassName","activeClassName","pageClassName","pageLinkClassName","LimitPerPage","setNumberPerPage","number","App","_useState5","_useState6","_useState7","_useState8","setLimitPerPage","components_Search_Search","components_Filter_LimitPerPage","components_Card_Card","components_Pagination_Pagination","ReactDOM","render","src_App","getElementById"],"mappings":"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","file":"static/js/main.006cb938.chunk.js","sourcesContent":["import React from \"react\";\r\nimport './Search.css'\r\n\r\nconst Search = ({ setSearch, updatePageNumber }) => {\r\n    let searchBtn = (e) => {\r\n        e.preventDefault();\r\n    };\r\n    return (\r\n        <form className=\"search-bar\">\r\n            <input\r\n                onChange={(e) => {\r\n                    updatePageNumber(1);\r\n                    setSearch(e.target.value);\r\n                }}\r\n                className=\"form-control form-control-lg search-bar\"\r\n                placeholder=\"Rechercher...\"\r\n                type=\"text\"\r\n            />\r\n            <input class=\"btn btn-primary\"type=\"submit\" value=\"Rechercher\" onClick={searchBtn} />\r\n        </form>\r\n    );\r\n\r\n};\r\n\r\nexport default Search","import React from \"react\";\r\nimport \"./Card.css\"\r\n\r\nconst Card = ({ results }) => {\r\n    let display;\r\n    if (results) {\r\n        display = results.map((document, index) => {\r\n            return (\r\n                <>\r\n                    <li className=\"card\">\r\n                        <h3 className=\"card-header\">{document.title}</h3>\r\n                        <div className=\"card-body\">\r\n                            <ul className=\"list-group list-group-flush\">\r\n                                <li className=\"list-group-item\"><strong>Titre de la publication: </strong>{document.publicationTitle}</li>\r\n\r\n                                <li className=\"list-group-item\"><strong>Type: </strong>{document.itemType}</li>\r\n                                <li className=\"list-group-item\"><strong>Langue: </strong>{document.Language}</li>\r\n                                <li className=\"list-group-item\"><strong>Auteurs:</strong>{document.authors.split(\";\").map((author, index) => { return <span className=\"badge bg-dark\" key={index}>{author}</span> })}\r\n\r\n                                </li>\r\n                                <li className=\"list-group-item\"><strong>Année: </strong>\r\n                                    {\r\n                                        document.year\r\n                                    }\r\n                                </li>\r\n                                {document.ISSN ? <li className=\"list-group-item\"><strong>ISSN: </strong>{document.ISSN}</li> : null}\r\n                            </ul>\r\n\r\n                            <div className=\"card-body\">\r\n                                <a href={document.Url} className=\"btn btn-success\">Voir l'article</a>\r\n                            </div>\r\n                            <li className=\"list-group-item\"><strong>Mots clés: </strong>\r\n                                {\r\n                                    document.tags.split(\";\").map((tag, index) => {\r\n                                        return <span className=\"badge bg-primary\" key={index}>{tag}</span>\r\n                                    })\r\n                                }\r\n                            </li>\r\n                            <div className=\"accordion\">\r\n                                <div className=\"accordion-item\">\r\n                                    <h2 className=\"accordion-header\" id={\"heading\" + index}>\r\n                                        <button className=\"accordion-button collapsed\" type=\"button\" data-bs-toggle=\"collapse\" data-bs-target={\"#collapse\" + index} aria-expanded=\"false\" aria-controls={\"collapse\" + index}>\r\n                                            Extrait\r\n                                        </button>\r\n                                    </h2>\r\n                                    <div id={\"collapse\" + index} className=\"accordion-collapse collapse\" aria-labelledby={\"heading\" + index} data-bs-parent=\"#accordionExample\">\r\n                                        <div className=\"accordion-body\">\r\n                                            <p className=\"abstract\">  {document.abstract} </p>\r\n                                        </div>\r\n                                    </div>\r\n                                </div>\r\n                            </div>\r\n                        </div>\r\n\r\n                    </li>\r\n                </>\r\n            );\r\n        });\r\n    } else {\r\n        display = \"No document Found :/\";\r\n    }\r\n\r\n\r\n    return <>{display}</>;\r\n}\r\nexport default Card\r\n\r\n// DOI: \"https://doi.org/10.1016/j.apenergy.2021.117158\"\r\n// ISSN: \"0306-2619\"\r\n// URL: \"https://www.sciencedirect.com/science/article/pii/S0306261921005912\"\r\n// abstract: d the decision maker.\"\r\n// author: (4) [{…}, {…}, {…}, {…}]\r\n// container-title: \"Applied Energy\"\r\n// id: \"http://zotero.org/users/9019400/items/BM4XNPWR\"\r\n// issued: {date-parts: Array(1)}\r\n// page: \"117158\"\r\n// title: \"Optimizing operational costs and PV production at utility scale: An optical fiber network analogy for solar park clustering\"\r\n// type: \"article-journal\"\r\n// volume: \"298\"","import \"./Pagination.css\"\r\nimport React, { useEffect, useState } from 'react';\r\nimport ReactPaginate from 'react-paginate';\r\n\r\nconst Pagination = ({ pageNumber, updatePageNumber, search, limitPerPage }) => {\r\n    let [fetchedData, updateFetchedData] = useState([])\r\n    let api = `https://periclim-api.herokuapp.com/documents?_sort=year&_order=desc&q=${search}`;\r\n    useEffect(() => {\r\n        (async function () {\r\n            let data = await fetch(api).then((res) => res.json())\r\n            updateFetchedData(data)\r\n        })()\r\n    }, [api])\r\n    let totalOfElement = fetchedData.length\r\n    let pageCount = Math.ceil(totalOfElement / limitPerPage)\r\n    let pageChange = (data) => {\r\n        updatePageNumber(data.selected + 1);\r\n    };\r\n    const [width, setWidth] = useState(window.innerWidth);\r\n    const updateDimensions = () => {\r\n        setWidth(window.innerWidth);\r\n    };\r\n    useEffect(() => {\r\n        window.addEventListener(\"resize\", updateDimensions);\r\n        return () => window.removeEventListener(\"resize\", updateDimensions);\r\n    }, []);\r\n    return (\r\n        <ReactPaginate\r\n            forcePage={pageNumber === 1 ? 0 : pageNumber - 1}\r\n            pageCount={pageCount}\r\n            onPageChange={pageChange}\r\n            className=\"pagination justify-content-center\"\r\n            nextLabel=\">>\"\r\n            previousLabel=\"<<\"\r\n            previousClassName=\"btn btn-primary prev\"\r\n            nextClassName=\"btn btn-primary next\"\r\n            activeClassName=\"active\"\r\n            pageClassName=\"page-item\"\r\n            pageLinkClassName=\"page-link\"\r\n        />\r\n    )\r\n}\r\nexport default Pagination","import React from \"react\";\r\nimport \"./LimitPerPage.css\"\r\n\r\nconst LimitPerPage = ({ setNumberPerPage, limitPerPage }) => {\r\n    const buttonList = [5, 10, 20, 50, 100];\r\n\r\n    return (\r\n        <div className=\"limit-per-page\">\r\n            <p>Nombre d'articles par page: </p>\r\n            <div>\r\n                {buttonList.map((number, index) => {\r\n                    if (limitPerPage == number) {\r\n                        return <button key={index} className=\"btn btn-primary\">{number}</button>\r\n                    } else {\r\n                        return <button key={index} className=\"btn btn-outline-primary\" onClick={() => setNumberPerPage(number)}>{number}</button>\r\n                    }\r\n                })}\r\n            </div>\r\n        </div>\r\n    )\r\n}\r\nexport default LimitPerPage","import React, { useState, useEffect } from \"react\"\r\n\r\nimport \"bootstrap/dist/js/bootstrap\"\r\nimport \"./assets/superhero-theme.css\"\r\nimport \"./assets/index.css\"\r\nimport Search from \"./components/Search/Search\"\r\nimport Card from \"./components/Card/Card\"\r\nimport Pagination from \"./components/Pagination/Pagination\"\r\nimport LimitPerPage from \"./components/Filter/LimitPerPage\"\r\n\r\n\r\nconst App = () => {\r\n  let [pageNumber, updatePageNumber] = useState(1);\r\n  let [search, setSearch] = useState(\"\");\r\n  let [fetchedData, updateFetchedData] = useState([])\r\n  let [limitPerPage, setLimitPerPage] = useState(10);\r\n\r\n  let api = `https://periclim-api.herokuapp.com/documents?q=${search}&_limit=${limitPerPage}&_page=${pageNumber}&_sort=year&_order=desc`;\r\n  useEffect(() => {\r\n    (async function () {\r\n      let data = await fetch(api).then((res) => res.json())\r\n      updateFetchedData(data)\r\n    })()\r\n  }, [api])\r\n\r\n  return (\r\n    <>\r\n      <header>\r\n        <h1 className=\"title\">Periclim</h1>\r\n        <h2 className=\"s-title\">Base de données bibliographiques</h2>\r\n      </header>\r\n      <main>\r\n        <Search setSearch={setSearch} updatePageNumber={updatePageNumber} />\r\n        <LimitPerPage setNumberPerPage={setLimitPerPage} limitPerPage={limitPerPage}/>\r\n\r\n\r\n        <Card results={fetchedData} />\r\n        <Pagination\r\n          search={search}\r\n          pageNumber={pageNumber}\r\n          updatePageNumber={updatePageNumber}\r\n          limitPerPage={limitPerPage}\r\n        />\r\n\r\n      </main>\r\n      <footer>\r\n        <p>&copy;Copyright - MIT - 2022</p>\r\n      </footer>\r\n    </>\r\n  )\r\n}\r\n\r\nexport default App\r\n","import React from 'react';\r\nimport ReactDOM from 'react-dom';\r\nimport App from './App';\r\n\r\nReactDOM.render(\r\n    <App />,\r\n  document.getElementById('root')\r\n);\r\n"],"sourceRoot":""}